## **EDM智能投递网关MVP - 产品功能矩阵**

**文档版本**: v1.1 | **更新日期**: 2025年6月25日 | **基于**: EDM-PRD v1.1

| **一级模块**         | **二级模块**                 | **三级功能点/用户故事**                                      | **功能描述**                                                                       | **用户类型**                             | **优先级 (MoSCoW)** | **备注**                                                                                                                                  |
| ---------------------- | ---------------------------- | ------------------------------------------------------------ | ---------------------------------------------------------------------------------- | ---------------------------------------- | ------------------- | ----------------------------------------------------------------------------------------------------------------------------------------- |
| **用户与账户体系** | **1.1 用户认证**             | **1.1.1 邮箱注册**                                           | 用户通过邮箱和密码创建账户，需通过邮件链接完成验证。                                 | 应用管理员/运营人员                      | **Must-have**       | 安全基础，保障账户归属。                                                                                                                |
|                      |                              | **1.1.2 邮箱密码登录**                                       | 已注册用户通过邮箱和密码进行登录。                                                 | 应用管理员/运营人员                      | **Must-have**       | -                                                                                                                                         |
|                      |                              | **1.1.3 密码重置**                                           | 用户可通过邮箱接收重置链接来找回或修改密码。                                       | 应用管理员/运营人员                      | **Should-have**     | 提升用户体验，减少客服压力。若资源紧张，可降级。                                                                                            |
|                      | **1.2 账户管理**             | **1.2.1 账户信息查看**                                       | 用户可在后台查看自己的注册邮箱、账户状态等基本信息。                               | 应用管理员/运营人员                      | **Must-have**       | -                                                                                                                                         |
|                      | **1.3 额度与套餐管理**       | **1.3.1 免费额度发放**                                       | 新用户注册成功后，系统自动为其账户赋予100封免费邮件发送额度。                      | 系统                                     | **Must-have**       | 核心的用户激活和体验策略。                                                                                                              |
|                      |                              | **1.3.2 额度用量展示**                                       | 在仪表盘清晰展示"总额度、已用额度、剩余额度"。                                     | 应用管理员/运营人员                      | **Must-have**       | 用户最关心的信息之一，直接影响其使用决策。                                                                                                |
|                      |                              | **1.3.3 额度耗尽提醒**                                       | 当额度剩余10%时，系统自动发送邮件提醒用户。                                        | 系统                                     | **Should-have**     | 提升用户留存和转化，防止服务中断。                                                                                                        |
|                      |                              | **1.3.4 套餐购买引导**                                       | 在后台提供套餐介绍页面，并引导用户联系商务进行人工充值。                           | 应用管理员/运营人员                      | **Must-have**       | 商业闭环的关键，MVP阶段采用人工方式。                                                                                                     |
| **配置与集成**     | **2.1 API密钥管理**          | **2.1.1 创建API密钥**                                        | 用户输入自定义名称，系统生成唯一的API密钥。                                        | 应用管理员/运营人员                      | **Must-have**       | **产品的核心交付物**。                                                                                                                    |
|                      |                              | **2.1.2 查看与复制API密钥**                                  | 密钥在列表中始终完整可见，并提供一键复制功能。                                     | 应用管理员/运营人员                      | **Must-have**       | 简化用户配置流程，降低使用门槛。                                                                                                          |
|                      |                              | **2.1.3 删除API密钥**                                        | 用户可随时删除不再需要的密钥，以保障安全。                                         | 应用管理员/运营人员                      | **Must-have**       | 基础的安全管理功能。                                                                                                                    |
|                      | **2.2 域名管理**             | **2.2.1 添加发信域名**                                       | 用户可添加一个或多个用于发送邮件的域名。                                           | 应用管理员/运营人员                      | **Must-have**       | 发送可信邮件的前提。                                                                                                                    |
|                      |                              | **2.2.2 获取域名验证配置**                                   | 系统为每个域名生成专属的DNS记录（所有权验证、SPF、DKIM、DMARC、MX），供用户去其DNS服务商处配置。 | 应用管理员/运营人员                      | **Must-have**       | 完整的DNS配置确保邮件送达率和安全性。                                                                                                     |
|                      |                              | **2.2.3 域名状态自动验证**                                   | 系统后台自动、定期检查DNS记录，并更新域名的验证状态（待验证/验证中/已验证/验证失败）。 | 系统                                     | **Must-have**       | 提升用户体验，无需用户手动点击"验证"。                                                                                                    |
|                      | **2.3 发信邮箱管理**         | **2.3.1 添加发信邮箱**                                       | 在已验证域名下，用户输入邮箱前缀，系统自动调用阿里云API创建发信邮箱。              | 应用管理员/运营人员                      | **Must-have**       | **v1.1新增**：简化发信邮箱配置，对用户隐藏SMTP技术细节。                                                                                  |
|                      |                              | **2.3.2 SMTP自动配置**                                       | 系统后台自动获取阿里云生成的SMTP密码，加密存储在数据库中。                         | 系统                                     | **Must-have**       | **v1.1新增**：完全自动化的SMTP配置，用户无需手动管理。                                                                                    |
|                      |                              | **2.3.3 发信邮箱列表管理**                                   | 在域名详情下展示所有发信邮箱及其状态，支持删除操作。                               | 应用管理员/运营人员                      | **Must-have**       | **v1.1新增**：统一的发信邮箱管理界面。                                                                                                    |
| **核心服务 (API)** | **3.1 邮件发送API**          | **3.1.1 API认证**                                            | 所有API调用需通过 `Authorization: Bearer {api_key}` 进行认证。                       | API消费者 (另一个应用)                   | **Must-have**       | 安全基础。                                                                                                                                |
|                      |                              | **3.1.2 异步邮件发送接口**                                   | 提供 `/api/v1/send` 和 `/send/batch` 接口，接收请求后快速入队并返回`202 Accepted`。 | API消费者 (另一个应用)                   | **Must-have**       | **核心功能**。异步确保API高性能和高可用性。                                                                                                 |
|                      |                              | **3.1.3 活动ID标记**                                         | 发送接口的Body中支持可选的`campaign_id`字段，用于数据聚合。                          | API消费者 (另一个应用)                   | **Must-have**       | 连接API调用和数据分析的关键。                                                                                                             |
|                      |                              | **3.1.4 发信邮箱验证**                                       | API调用时，`from`字段必须使用用户在平台上已添加并验证的发信邮箱地址。               | API消费者 (另一个应用)                   | **Must-have**       | **v1.1新增**：确保发信身份的合法性和可追溯性。                                                                                            |
|                      | **3.2 邮件处理后台**         | **3.2.1 邮件内容处理**                                       | 系统自动为所有邮件内容注入打开追踪像素和重写点击链接。                             | 系统                                     | **Must-have**       | 实现打开/点击数据追踪的核心。                                                                                                           |
|                      |                              | **3.2.2 智能投递调度**                                       | 系统根据内部的资源池情况（如账号额度、信誉），智能选择最佳通道进行投递。           | 系统                                     | **Must-have**       | **产品的核心竞争力**，对用户透明。                                                                                                        |
| **活动管理**       | **4.1 混合模式活动管理**     | **4.1.1 手动创建活动**                                       | 用户可在后台创建活动，输入活动名称，系统自动生成唯一的活动ID。                     | 应用管理员/运营人员                      | **Must-have**       | **v1.1新增**：支持预先规划的营销活动管理。                                                                                                |
|                      |                              | **4.1.2 API自动发现模式**                                    | API调用时如果传递的`campaign_id`不存在，系统自动创建新活动记录。                   | 系统                                     | **Must-have**       | **v1.1新增**：简化开发者集成，无需预先创建活动。                                                                                          |
|                      |                              | **4.1.3 活动ID复制功能**                                     | 提供一键复制活动ID功能，方便开发者使用。                                           | 应用管理员/运营人员                      | **Must-have**       | **v1.1新增**：提升用户体验。                                                                                                             |
|                      |                              | **4.1.4 活动编辑与删除**                                     | 支持编辑活动名称（仅限手动创建的活动）和删除活动功能。                             | 应用管理员/运营人员                      | **Should-have**     | **v1.1新增**：完善的活动生命周期管理。                                                                                                    |
| **数据分析与报告** | **5.1 仪表盘（数据总览）**   | **5.1.1 核心指标展示**                                       | 以卡片或数字形式，展示账户级的总发送量、送达率、打开率、点击率。                 | 应用管理员/运营人员                      | **Must-have**       | 让用户对整体情况一目了然。                                                                                                              |
|                      |                              | **5.1.2 转化漏斗可视化**                                     | 展示从发送到点击的完整转化流程，使用漏斗图形式。                                   | 应用管理员/运营人员                      | **Must-have**       | **v1.1优化**：提供直观的数据流转可视化。                                                                                                  |
|                      | **5.2 活动报告**             | **5.2.1 活动列表展示**                                       | 展示所有活动（手动创建和API自动发现）的列表，显示创建方式标识。                    | 应用管理员/运营人员                      | **Must-have**       | **v1.1更新**：统一展示不同来源的活动。                                                                                                    |
|                      |                              | **5.2.2 活动数据汇总**                                       | 在活动列表中，为每个活动展示其关键指标（发送量、送达率、打开率、点击率）。       | 应用管理员/运营人员                      | **Must-have**       | -                                                                                                                                         |
|                      |                              | **5.2.3 活动数据可视化**                                     | 提供活动对比图表和转化漏斗图，展示活动数据。                                       | 应用管理员/运营人员                      | **Should-have**     | **v1.1增强**：更丰富的数据可视化功能。                                                                                                    |
|                      |                              | **5.2.4 数据导出**                                           | 提供将活动数据导出为CSV文件的功能。                                                | 应用管理员/运营人员                      | **Could-have**      | 方便用户进行离线分析。                                                                                                                  |

---

### **v1.1 版本主要更新内容**

#### **新增功能模块**
1. **发信邮箱管理 (2.3)**：完整的发信邮箱生命周期管理
2. **混合模式活动管理 (4.1)**：支持手动创建和API自动发现两种模式
3. **增强的数据可视化 (5.1.2, 5.2.3)**：转化漏斗图和活动对比图表

#### **功能增强**
1. **域名验证状态**：增加"验证中"状态，提供更精确的状态反馈
2. **DNS记录完整性**：明确包含所有权验证、SPF、DKIM、DMARC、MX五类记录
3. **API发信验证**：强制要求使用已验证的发信邮箱地址
4. **活动管理统一**：手动创建和自动发现的活动在同一界面管理

---

### **MoSCoW 方法说明**

* **Must-have (必须有)**: 如果缺少这些功能，MVP将无法发布。它们是产品的核心价值所在。
* **Should-have (应该有)**: 这些是重要的功能，能显著提升用户体验，但如果时间和资源不允许，可以在MVP发布后快速迭代加入。
* **Could-have (可以有)**: 这些是"锦上添花"的功能，对用户有一定价值，但优先级较低，可以在后续版本中考虑。
* **Won't-have (本次不做)**: 明确在MVP版本中不包含的功能，用于管理团队和利益相关者的预期（详见PRD第9节）。
